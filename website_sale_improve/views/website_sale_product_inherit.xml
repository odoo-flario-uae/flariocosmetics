<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="payment_delivery_methods_inherit" inherit_id="website_sale_delivery.payment_delivery_methods">
        <xpath expr="//span" position="replace">
            <t t-if="delivery.fee_delivery and delivery.fee_delivery != ''">
                <span t-attf-class="#{badge_class}" t-esc="delivery.fee_delivery"></span>
            </t>
            <t t-else="">
                <span t-attf-class="#{badge_class} o_wsale_delivery_badge_price">Select to compute delivery rate</span>
            </t>
        </xpath>
    </template>

    <template id="address_inherit" inherit_id="website_sale.address">
      <xpath expr="//label[@for='street']" position="replace">
        <label class="col-form-label" for="street">Building name</label>
      </xpath>
      <xpath expr="//label[@for='street2']" position="replace">
        <label class="col-form-label" for="street">Apartment</label>
      </xpath>
      <xpath expr="//input[@id='shipping_use_same']" position="replace">
        <input type="checkbox" id='shipping_use_same' class="mr8 mb-3" name='use_same' value="1" checked='checked'/>Ship to the same address
      </xpath>
    </template>

    <template id="website_sale_product_inherit" inherit_id="website_sale.product" name="product accordions">
        <xpath expr="//div[@id='add_to_cart_wrap']" position="attributes">
            <attribute name="t-attf-class">{{'d-none' if combination_info['prevent_zero_price_sale'] else 'd-inline-flex'}} align-items-center mb-2 me-2</attribute>
        </xpath>
        <xpath expr="//t[@t-foreach='single_value_attributes']/tr" position="replace">
            <t t-if="attribute.visibility != 'hidden'">
                <tr>
                    <td>
                        <span t-field="attribute.name"/>:
                        <t t-foreach="single_value_attributes[attribute]" t-as="ptal">
                            <span t-field="ptal.product_template_value_ids._only_active().name"/><t t-if="not ptal_last">, </t>
                        </t>
                    </td>
                </tr>
            </t>
        </xpath>

        <xpath expr="//div[@id='product_option_block']" position="before">
            <t t-if="product.amazon_link">
                <div class="mb-2">
                    <a role="button" id="amazon_link" t-att-href="product.amazon_link" class="btn btn-primary flex-grow-1 btn-lg">
                        <i class="fa fa-brands fa-amazon"></i>
                        <span>BUY ON AMAZON</span>
                    </a>
                </div>
            </t>
        </xpath>
        <xpath expr="//section[@id='product_detail']" position="after">
            <section class="accordions container py-4">
                <div class="accordion" id="accordionExample">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        Description
                      </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                      <div class="accordion-body">
                        <p t-field="product.description_sale" class="text-muted my-2" placeholder="A short description that will also appear on documents."/>
                      </div>
                    </div>
                  </div>
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        Ingredients
                      </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                      <div class="accordion-body">
                        <p t-field="product.extra_ingredients" class="text-muted my-2" placeholder="About ingredients product"/>
                      </div>
                    </div>
                  </div>
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingThree">
                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        Directions
                      </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                      <div class="accordion-body">
                        <p t-field="product.extra_directions" class="text-muted my-2" placeholder="About directions product"/>
                      </div>
                    </div>
                  </div>
                </div>
            </section>
        </xpath>
    </template>
</odoo>